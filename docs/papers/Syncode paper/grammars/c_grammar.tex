\lstdefinestyle{myGrammarStyle}{
    basicstyle=\scriptsize\ttfamily, % Reduce font size
    commentstyle=\color{gray},
    keywordstyle=\color{blue},
    stringstyle=\color{orange},
    numbers=left, % Line numbers on left
    numberstyle=\tiny\color{gray}, % Line numbers styling
    breaklines=true, % Wrap long lines
    frame=single, % Frame around the code
    framesep=3pt, % Adjust frame separation
    xleftmargin=5pt, % Adjust left margin
    xrightmargin=5pt, % Adjust right margin
    backgroundcolor=\color{yellow!4}, % Background color
    tabsize=2, % Tab size
    captionpos=b, % Caption position bottom
    aboveskip=5pt, % Reduce space above the listing
    belowskip=5pt, % Reduce space below the listing
    linewidth=0.9\linewidth, % Set custom line width to less than text width
    escapeinside={(*@}{@*)}, % for escaping to LaTeX
}

\begin{lstlisting}[style=myGrammarStyle, caption=C Grammar]
start: declaration*

declaration: data_type NAME "(" parameter? ")" "{" statement* "}"

statement: data_type NAME "=" expression ";" 
            | NAME  "="  expression ";" 
            | NAME  "(" arg_list? ")" ";" 
            | "return"  expression ";" 
            | "while" "(" condition ")" "{" statement* "}" 
            | "for" "(" for_init ";"  condition ";"  for_update ")" "{" statement* "}" 
            | "if" "(" condition ")" "{" statement* "}" ("else" "{" statement* "}")? 
            | single_line_comment 
            | multi_line_comment

data_type: "int" | "float"  | "char" | "void"
NAME: /[a-zA-Z_][a-zA-Z_0-9]*/

parameter: data_type NAME

for_init: data_type NAME  "="  expression | NAME  "="  expression
for_update: NAME  "="  expression

condition: expression relation_operator expression
relation_operator: ("<=" | "<" | "==" | "!=" | ">=" | ">")

expression: term (("+" | "-") term)*
term: factor(("*" | "/") factor)*

factor: NAME | number | unary_term | func_call | paren_expression
unary_term: "-" factor
func_call: NAME "(" arg_list? ")"
paren_expression: "("  expression  ")"

arg_list: expression (","  expression)*

number: /[0-9]+/

single_line_comment: /\/\/([^\n])*\n/ "\n"
multi_line_comment: /\/\*(.|\n)*?\*\//

WS : /[ \t\n]+/
%ignore WS

\end{lstlisting}
\label{gram:c_grammar}
